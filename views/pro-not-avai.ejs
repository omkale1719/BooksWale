<% layout('./layouts/boilerplate') %>

<style>
/* General Styling */

  
  .mydiv {
    background-color: #fdfafa;
    padding: 20px;
    margin: 10px;
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  }
  
  .title-deleivery-unavailable {
    color: #ff4d4d;
    text-align: center;
  }
  
  .unavailable-desc {
    text-align: center;
    font-size: 18px;
  }
  
  .delivery-unavailable {
    background-color: #fff;
    padding: 30px;
    margin-top: 20px;
    border-radius: 8px;
    text-align: center;
  }
  
  a {
    text-decoration: none;
    color: #007bff;
    font-weight: bold;
    display: inline-block;
    margin-top: 20px;
  }
  
  a:hover {
    text-decoration: underline;
  }
  
  /* Grid Layout for Multiple Records */
  .container {
    display: flex;
    flex-wrap: wrap;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 20px;
    padding: 20px;
  }
  
  .mydiv {
    width: 100%;
  }
  
  .curr_username,
  .curr_email,
  .customer-name,
  .customer-email,
  .customer-address,
  .customer-payment-method,
  .card-info {
    margin: 8px 0;
    font-size: 16px;
  }
  
  .delivery_address {
    font-size: 18px;
    font-weight: bold;
    margin-top: 20px;
  }
  
  /* Responsive Design */
  @media screen and (max-width: 768px) {
    .mydiv {
      padding: 15px;
    }
  
    .curr_username,
    .curr_email,
    .customer-name,
    .customer-email,
    .customer-address,
    .customer-payment-method,
    .card-info {
      font-size: 14px;
    }
  
    .delivery_address {
      font-size: 16px;
    }
  
    .title-deleivery-unavailable {
      font-size: 28px;
    }
  
    .unavailable-desc {
      font-size: 16px;
    }
  }
  
    </style>
    
     
    
</head>
<body>
    <br><br><br>
    <% if(curruser.username=="iamadmin@open"){ %>
        
        <h2 style="color:blue">Customer Order Details</h2>
   <div class="container">
      <% thenewcustomer.forEach(function (order) { %>
        <div class="mydiv">
            
            <% if (order.user) { %>
               
              <p class="curr_username"><strong>Username:</strong> <%= order.user.username %></p>
              <p class="curr_email"><strong>Email:</strong> <%= order.user.email %></p>
            <% } else { %>
              <p class="curr_username"><strong>Username:</strong> Not Logged In</p>
              <p class="curr_email"><strong>Email:</strong> Not Available</p>
            <% } %>
        <h5 class="delivery_address">Address of delivery</h5>
          <p class="customer-name"><strong>Name:</strong> <%= order.billing.name %></p>
          <p class="customer-email"><strong>Email:</strong> <%= order.billing.email %></p>
          <p><strong>Order Date:</strong> <%= new Date(order.createdAt).toLocaleDateString() %></p>
          <p><strong>Order Time:</strong> <%= new Date(order.createdAt).toLocaleTimeString() %></p>
          <p class="customer-address"><strong>Address:</strong> <%= order.billing.address %>, <%= order.billing.city %>, <%= order.billing.state %> - <%= order.billing.zipcode %></p>
          <p class="customer-payment-method"><strong>Payment Method:</strong> <%= order.payment.method %></p>
         
        </div>
   
      <% }) %>
    </div>
    <% } %>
   
   <% if(curruser.username!=="iamadmin@open"){ %>
      <div class="delivery-unavailable">
        <h1 class="title-deleivery-unavailable">Delivery Unavailable</h1>
        <p class="unavailable-desc">We're sorry, but delivery is not available.</p>
        <a href="/">Return to Home</a>
      </div>
   
        
    <br><br><br>
    <% } %>
  </body>
  